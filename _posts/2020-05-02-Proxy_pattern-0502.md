---
title: "Proxy Pattern"
excerpt: ""
last_modified_at: 2020-05-02
header:
  teaser: 
tags: 
  - Design pattern
categories:
  - Design Pattern
toc: false
---
Proxy Pattern
====

![Proxy Pattern](https://hoy172.github.io/assets/img/ProxyPattern.png)

Subject Interface
---
```java
package me.hoy;
import org.springframework.stereotype.Service;
@Service
public interface EventService
{
    void createEvent();
     void publishEvent();
     void deleteEvent();
}
```
Real Subject
---
```java
package me.hoy;
import org.springframework.stereotype.Service;
@Service
public class SimpleEventService implements EventService {
    @Override
    public void createEvent() {
        try {
            Thread.sleep(1000);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
        System.out.println("Created");
     }
     @Override
    public void publishEvent() {
         try {
            Thread.sleep(2000);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
        System.out.println("Published");
    }
    @Override
    public void deleteEvent(){
        System.out.println("Deleted");
     }
}
```
Proxy
---
```java
package me.hoy;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.annotation.Primary;
import org.springframework.stereotype.Component;
import org.springframework.stereotype.Service;
@Primary
@Service
public class ProxySimpleEventService implements EventService {
     @Autowired
    SimpleEventService simpleEventService;
     @Override
    public void createEvent() {
        long begin = System.currentTimeMillis();
        simpleEventService.createEvent();
        System.out.println(System.currentTimeMillis() - begin);
    }
     @Override
    public void publishEvent() {
        long begin = System.currentTimeMillis();
        simpleEventService.publishEvent();
        System.out.println(System.currentTimeMillis() -begin);
    }
     @Override
    public void deleteEvent() {
        simpleEventService.deleteEvent();
    }
}
```
Client
---
```java
@Component
public class AppRunner implements ApplicationRunner {
     @Autowired
    EventService eventService;
     @Override
    public void run(ApplicationArguments args) throws Exception {
        eventService.createEvent();
        eventService.publishEvent();
        eventService.deleteEvent( );
    }
}
```